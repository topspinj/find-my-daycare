{% extends "base.html" %}

{% block content %}
<div class="search-form">
    <h2>Search for Daycares</h2>

    {% if errors %}
    <div class="errors">
        <ul>
        {% for error in errors %}
            <li>{{ error }}</li>
        {% endfor %}
        </ul>
    </div>
    {% endif %}

    <form method="POST" action="/">
        <div class="form-group">
            <label for="address">Your Address (Toronto area):</label>
            <input type="text" id="address" name="address"
                   placeholder="e.g., 100 Queen St W, Toronto"
                   value="{{ address or '' }}" required>
        </div>

        <div class="form-group">
            <label for="birthday">Child's Birthday:</label>
            <input type="text" id="birthday" name="birthday"
                   placeholder="Select date"
                   value="{{ birthday or '' }}" required>
        </div>

        <button type="submit">Find Daycares</button>
    </form>
</div>

<script>
var fiveYearsAgo = new Date();
fiveYearsAgo.setFullYear(fiveYearsAgo.getFullYear() - 5);

flatpickr("#birthday", {
    dateFormat: "Y-m-d",
    minDate: fiveYearsAgo,
    maxDate: "today",
    defaultDate: "{{ birthday or '' }}"
});
</script>
{% endblock %}
