{% extends "base.html" %}

{% block content %}
<div class="home-container">
    <div class="home-header">
        <h1>Find My Daycare</h1>
        <p class="tagline">Discover licensed, age-appropriate daycares near you in Toronto.</p>
        <p class="trust-note">We only show licensed daycares. No ads. No rankings.</p>
    </div>

    <div class="search-card">
        {% if errors %}
        <div class="error-banner">
            <ul>
            {% for error in errors %}
                <li>{{ error }}</li>
            {% endfor %}
            </ul>
        </div>
        {% endif %}

        <form method="POST" action="/">
            <div class="form-group">
                <label for="address">Your address</label>
                <input type="text" id="address" name="address"
                       placeholder="e.g., 100 Queen St W, Toronto"
                       value="{{ address or '' }}" required>
                <p class="helper-text">We'll search within 5 km of your home</p>
            </div>

            <div class="form-group">
                <label for="birthday">Child's birthday</label>
                <input type="text" id="birthday" name="birthday"
                       placeholder="Select date"
                       value="{{ birthday or '' }}" required>
                <p class="helper-text">Used to match age-appropriate programs</p>
            </div>

            <button type="submit" class="btn-primary">Find daycares</button>
        </form>
    </div>
</div>

<script>
var fiveYearsAgo = new Date();
fiveYearsAgo.setFullYear(fiveYearsAgo.getFullYear() - 5);

flatpickr("#birthday", {
    dateFormat: "Y-m-d",
    minDate: fiveYearsAgo,
    maxDate: "today",
    defaultDate: "{{ birthday or '' }}"
});
</script>
{% endblock %}
